import{_ as i,c as a,o as t,a3 as n}from"./chunks/framework.D-BI-jj5.js";const o=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"å·¥ç¨‹åŒ–/React/ReactçŠ¶æ€ç®¡ç†å·¥å…·.md","filePath":"å·¥ç¨‹åŒ–/React/ReactçŠ¶æ€ç®¡ç†å·¥å…·.md","lastUpdated":1749215922000}'),l={name:"å·¥ç¨‹åŒ–/React/ReactçŠ¶æ€ç®¡ç†å·¥å…·.md"};function h(k,s,e,r,p,d){return t(),a("div",null,s[0]||(s[0]=[n(`<p>React çŠ¶æ€ç®¡ç†å·¥å…·ä¸°å¯Œå¤šæ ·ï¼Œå„æœ‰å…¶è®¾è®¡å“²å­¦å’Œé€‚ç”¨åœºæ™¯ã€‚ä»¥ä¸‹ä»<strong>æ ¸å¿ƒæ€æƒ³ã€ä»£è¡¨å·¥å…·ã€ä¼˜ç¼ºç‚¹åŠä½¿ç”¨å»ºè®®</strong>å››æ–¹é¢ç³»ç»Ÿæ¢³ç†ï¼Œå¸®åŠ©ä½ ç²¾å‡†é€‰å‹ï¼š</p><hr><h3 id="ğŸ”„-ä¸€ã€react-åŸç”Ÿæ–¹æ¡ˆ" tabindex="-1">ğŸ”„ <strong>ä¸€ã€React åŸç”Ÿæ–¹æ¡ˆ</strong> <a class="header-anchor" href="#ğŸ”„-ä¸€ã€react-åŸç”Ÿæ–¹æ¡ˆ" aria-label="Permalink to â€œğŸ”„ ä¸€ã€React åŸç”Ÿæ–¹æ¡ˆâ€">â€‹</a></h3><h4 id="_1-usestate-usereducer" tabindex="-1">1. <strong>useState/useReducer</strong> <a class="header-anchor" href="#_1-usestate-usereducer" aria-label="Permalink to â€œ1. useState/useReducerâ€">â€‹</a></h4><ul><li><strong>æ ¸å¿ƒ</strong>ï¼šç»„ä»¶å†…éƒ¨çŠ¶æ€ç®¡ç†ï¼Œ<code>useReducer</code> é€‚åˆå¤æ‚çŠ¶æ€é€»è¾‘ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼šé›¶ä¾èµ–ã€è½»é‡ã€ç¬¦åˆ React å‡½æ•°å¼æ€ç»´ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼šçŠ¶æ€æ— æ³•è·¨ç»„ä»¶å…±äº«ï¼Œéœ€æ‰‹åŠ¨é€šè¿‡ props é€ä¼ ï¼ˆâ€œprop drillingâ€ï¼‰ã€‚</li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼ˆå¦‚è¡¨å•æ§åˆ¶ã€UI äº¤äº’çŠ¶æ€ï¼‰ã€‚</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Reducer å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> todoReducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (action.type) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ADD_TODO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state, { id: Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), text: action.text, completed: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;TOGGLE_TODO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">todo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (todo.id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> action.id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">todo, completed: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">todo.completed } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> todo));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;DELETE_TODO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">todo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> todo.id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> action.id);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">todos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useReducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(todoReducer, []);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ·»åŠ ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ADD_TODO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, text: newTodo });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ‡æ¢å®ŒæˆçŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;TOGGLE_TODO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, id: todo.id });</span></span></code></pre></div><h4 id="_2-context-api" tabindex="-1">2. <strong>Context API</strong> <a class="header-anchor" href="#_2-context-api" aria-label="Permalink to â€œ2. Context APIâ€">â€‹</a></h4><ul><li><strong>æ ¸å¿ƒ</strong>ï¼šè·¨å±‚çº§çŠ¶æ€å…±äº«ï¼Œé€šè¿‡ <code>Provider</code> æ³¨å…¥å…¨å±€çŠ¶æ€ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼šå†…ç½®æ”¯æŒã€å…å» props é€ä¼ ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼š <ul><li>ä»»ä½• <code>Context</code> å€¼å˜æ›´ä¼šè§¦å‘<strong>æ‰€æœ‰æ¶ˆè´¹è€…ç»„ä»¶é‡æ¸²æŸ“</strong>ï¼Œæ€§èƒ½æ•æ„Ÿåœºæ™¯éœ€é…åˆ <code>memo</code> ä¼˜åŒ–ã€‚</li><li>å¤æ‚æ•°æ®æµç®¡ç†èƒ½åŠ›å¼±ï¼Œæ˜“å¯¼è‡´ä»£ç æ··ä¹±ã€‚</li></ul></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¸»é¢˜åˆ‡æ¢ã€ç”¨æˆ·èº«ä»½ç­‰ä½é¢‘å˜æ›´çš„å…¨å±€çŠ¶æ€ã€‚</li></ul><hr><h3 id="ğŸ§©-äºŒã€åŸå­çŠ¶æ€ç®¡ç†-ç»†ç²’åº¦æ›´æ–°" tabindex="-1">ğŸ§© <strong>äºŒã€åŸå­çŠ¶æ€ç®¡ç†ï¼ˆç»†ç²’åº¦æ›´æ–°ï¼‰</strong> <a class="header-anchor" href="#ğŸ§©-äºŒã€åŸå­çŠ¶æ€ç®¡ç†-ç»†ç²’åº¦æ›´æ–°" aria-label="Permalink to â€œğŸ§© äºŒã€åŸå­çŠ¶æ€ç®¡ç†ï¼ˆç»†ç²’åº¦æ›´æ–°ï¼‰â€">â€‹</a></h3><h4 id="_1-jotai" tabindex="-1">1. <strong>Jotai</strong> <a class="header-anchor" href="#_1-jotai" aria-label="Permalink to â€œ1. Jotaiâ€">â€‹</a></h4><ul><li><strong>æ ¸å¿ƒ</strong>ï¼šåŸºäºåŸå­ï¼ˆatomï¼‰çš„ primitive çŠ¶æ€å•å…ƒï¼Œç»„åˆå¼æ›´æ–°ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼š <ul><li>API æç®€ï¼ˆç±»ä¼¼ <code>useState</code>ï¼‰ï¼Œå­¦ä¹ æˆæœ¬ä½ã€‚</li><li><strong>æŒ‰éœ€æ¸²æŸ“</strong>ï¼Œä»…æ›´æ–°ä¾èµ–å˜æ›´çš„ç»„ä»¶ï¼Œæ€§èƒ½ä¼˜å¼‚ã€‚</li></ul></li><li><strong>ç¼ºç‚¹</strong>ï¼šå¼ºä¾èµ– React ä¸Šä¸‹æ–‡ï¼Œæ— æ³•åœ¨é React ç¯å¢ƒä½¿ç”¨ã€‚</li><li><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š<div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { atom, useAtom } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;jotai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> countAtom</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> atom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Counter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useAtom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(countAtom);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)}&gt;{count}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div></li></ul><h4 id="_2-recoil" tabindex="-1">2. <strong>Recoil</strong> <a class="header-anchor" href="#_2-recoil" aria-label="Permalink to â€œ2. Recoilâ€">â€‹</a></h4><ul><li><strong>æ ¸å¿ƒ</strong>ï¼šç±»ä¼¼ Jotaiï¼Œä½†æä¾›æ›´ä¸°å¯Œçš„ APIï¼ˆå¦‚å¼‚æ­¥ Selectorã€çŠ¶æ€å¿«ç…§ï¼‰ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼šæ”¯æŒæ´¾ç”ŸçŠ¶æ€ï¼ˆcomputed valuesï¼‰ã€çŠ¶æ€ä¾èµ–å›¾å¯è§†åŒ–ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼šä½“ç§¯è¾ƒå¤§ï¼ŒAPI å¤æ‚åº¦é«˜äº Jotaiã€‚</li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šéœ€è¦å¤æ‚çŠ¶æ€è¡ç”Ÿé€»è¾‘ï¼ˆå¦‚è¿‡æ»¤åˆ—è¡¨ï¼‰æˆ–è°ƒè¯•å·¥å…·æ”¯æŒçš„é¡¹ç›®ã€‚</li></ul><hr><h3 id="ğŸ—-ä¸‰ã€flux-redux-æ¶æ„è¡ç”Ÿ" tabindex="-1">ğŸ— <strong>ä¸‰ã€Flux/Redux æ¶æ„è¡ç”Ÿ</strong> <a class="header-anchor" href="#ğŸ—-ä¸‰ã€flux-redux-æ¶æ„è¡ç”Ÿ" aria-label="Permalink to â€œğŸ— ä¸‰ã€Flux/Redux æ¶æ„è¡ç”Ÿâ€">â€‹</a></h3><h4 id="_1-redux-react-redux" tabindex="-1">1. <strong>Redux (+ React-Redux)</strong> <a class="header-anchor" href="#_1-redux-react-redux" aria-label="Permalink to â€œ1. Redux (+ React-Redux)â€">â€‹</a></h4><ul><li><strong>æ ¸å¿ƒ</strong>ï¼šå•å‘æ•°æ®æµï¼ˆAction â†’ Reducer â†’ Storeï¼‰ï¼Œå¼ºè°ƒä¸å¯å˜æ€§å’Œçº¯å‡½æ•°ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼š <ul><li>æ—¶é—´æ—…è¡Œè°ƒè¯•ã€ä¸­é—´ä»¶ç”Ÿæ€ï¼ˆRedux-Thunk/Sagaï¼‰ã€‚</li><li>æ¡†æ¶æ— å…³ï¼Œé€‚åˆå¤§å‹é¡¹ç›®è§„èŒƒåŒ–åä½œã€‚</li></ul></li><li><strong>ç¼ºç‚¹</strong>ï¼šæ¨¡æ¿ä»£ç å¤šï¼ˆAction/Reducer/Store å®šä¹‰ç¹çï¼‰ï¼Œå¿ƒæ™ºè´Ÿæ‹…é‡ã€‚</li><li><strong>æ¼”è¿›</strong>ï¼šç°ä»£ Redux å·²ç®€åŒ–ï¼ˆ<code>@reduxjs/toolkit</code> å‡å°‘æ ·æ¿ä»£ç ï¼‰ã€‚</li></ul><h4 id="_2-zustand" tabindex="-1">2. <strong>Zustand</strong> <a class="header-anchor" href="#_2-zustand" aria-label="Permalink to â€œ2. Zustandâ€">â€‹</a></h4><ul><li><strong>æ ¸å¿ƒ</strong>ï¼šè½»é‡ Redux æ›¿ä»£å“ï¼ŒStore å³ Hookï¼Œæ—  Provider åŒ…è£¹ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼š <ul><li><strong>API ç®€æ´</strong>ï¼šå…å» Action/Reducer å®šä¹‰ï¼Œç›´æ¥ä¿®æ”¹çŠ¶æ€ã€‚</li><li>æ”¯æŒä¸­é—´ä»¶ï¼ˆæŒä¹…åŒ–ã€æ—¥å¿—ç­‰ï¼‰ï¼Œ<strong>ç»„ä»¶å¤–å¯è°ƒç”¨</strong>ã€‚</li></ul></li><li><strong>ç¼ºç‚¹</strong>ï¼šåŸç”Ÿä¸æ”¯æŒè®¡ç®—å±æ€§ï¼ˆéœ€é…åˆ <code>zustand-computed</code> æˆ–æ‰‹åŠ¨æ´¾ç”Ÿï¼‰ã€‚</li><li><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š<div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> create </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;zustand&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> useStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  bears: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  addBear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ bears: state.bears </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç»„ä»¶å†…ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> bears</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.bears);</span></span></code></pre></div></li></ul><hr><h3 id="âš¡-å››ã€å“åº”å¼-mutable-æµæ´¾" tabindex="-1">âš¡ <strong>å››ã€å“åº”å¼/Mutable æµæ´¾</strong> <a class="header-anchor" href="#âš¡-å››ã€å“åº”å¼-mutable-æµæ´¾" aria-label="Permalink to â€œâš¡ å››ã€å“åº”å¼/Mutable æµæ´¾â€">â€‹</a></h3><h4 id="_1-mobx" tabindex="-1">1. <strong>MobX</strong> <a class="header-anchor" href="#_1-mobx" aria-label="Permalink to â€œ1. MobXâ€">â€‹</a></h4><ul><li><strong>æ ¸å¿ƒ</strong>ï¼šé€šè¿‡ <code>@observable</code> è‡ªåŠ¨è¿½è¸ªçŠ¶æ€ä¾èµ–ï¼Œå˜æ›´è§¦å‘ç²¾å‡†æ›´æ–°ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼š <ul><li><strong>ä»£ç ç›´è§‚</strong>ï¼šç›´æ¥èµ‹å€¼æ›´æ–°çŠ¶æ€ï¼ˆ<code>state.count++</code>ï¼‰ã€‚</li><li>è‡ªåŠ¨å¤„ç†è¡ç”Ÿæ•°æ®ï¼ˆ<code>@computed</code>ï¼‰ã€‚</li></ul></li><li><strong>ç¼ºç‚¹</strong>ï¼š <ul><li>å“åº”å¼æ¨¡å¼ä¸ React çš„ Immutable èŒƒå¼å†²çªï¼Œè°ƒè¯•å¯èƒ½åç›´è§‰ã€‚</li><li>ä½“ç§¯è¾ƒå¤§ï¼ˆçº¦ 4KBï¼‰ã€‚</li></ul></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šVue è½¬ React å¼€å‘è€…æˆ–è¿½æ±‚å¼€å‘é€Ÿåº¦çš„é¡¹ç›®ã€‚</li></ul><h4 id="_2-valtio" tabindex="-1">2. <strong>Valtio</strong> <a class="header-anchor" href="#_2-valtio" aria-label="Permalink to â€œ2. Valtioâ€">â€‹</a></h4><ul><li><strong>æ ¸å¿ƒ</strong>ï¼šProxy å®ç°è½»é‡å“åº”å¼ï¼Œç±»ä¼¼ MobX ä½†æ›´ç®€æ´ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼šAPI æç®€ï¼ˆ<code>proxy</code> + <code>useSnapshot</code>ï¼‰ï¼Œ<strong>æ— è£…é¥°å™¨è¯­æ³•</strong>ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼šå¯å˜æ¨¡å‹å¯èƒ½å¼•å‘æ„å¤–å‰¯ä½œç”¨ï¼Œç¤¾åŒºç”Ÿæ€è¾ƒå°ã€‚</li><li><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š<div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { proxy, useSnapshot } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;valtio&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> proxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Counter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> snap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useSnapshot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(state);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}&gt;{snap.count}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div></li></ul><h4 id="_3-hookstate" tabindex="-1">3. <strong>Hookstate</strong> <a class="header-anchor" href="#_3-hookstate" aria-label="Permalink to â€œ3. Hookstateâ€">â€‹</a></h4><ul><li><strong>æ ¸å¿ƒ</strong>ï¼šèåˆåŸå­åŒ–ä¸å“åº”å¼ï¼Œæ”¯æŒåµŒå¥—çŠ¶æ€ä¸€é”®æ›´æ–°ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼š <ul><li><strong>é«˜æ€§èƒ½</strong>ï¼šå±€éƒ¨æ›´æ–°é¿å…å…¨é‡é‡æ¸²æŸ“ã€‚</li><li>åŒæ—¶æ”¯æŒæœ¬åœ°/å…¨å±€çŠ¶æ€ï¼ŒNext.js å‹å¥½ã€‚</li></ul></li><li><strong>ç¼ºç‚¹</strong>ï¼šç¤¾åŒºæˆç†Ÿåº¦ä½äºä¸»æµå·¥å…·ã€‚</li><li><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š<div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useHookstate } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@hookstate/core&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useHookstate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.count.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)}&gt;{state.count.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li></ul><hr><h3 id="ğŸ“Š-ä¸»æµå·¥å…·å…³é”®å¯¹æ¯”" tabindex="-1">ğŸ“Š <strong>ä¸»æµå·¥å…·å…³é”®å¯¹æ¯”</strong> <a class="header-anchor" href="#ğŸ“Š-ä¸»æµå·¥å…·å…³é”®å¯¹æ¯”" aria-label="Permalink to â€œğŸ“Š ä¸»æµå·¥å…·å…³é”®å¯¹æ¯”â€">â€‹</a></h3><table tabindex="0"><thead><tr><th><strong>å·¥å…·</strong></th><th><strong>å­¦ä¹ æ›²çº¿</strong></th><th><strong>æ€§èƒ½</strong></th><th><strong>TS æ”¯æŒ</strong></th><th><strong>åŒ…å¤§å°</strong></th><th><strong>çŠ¶æ€æ¨¡å‹</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong>Context</strong></td><td>ä½</td><td>å·®</td><td>ä¼˜ç§€</td><td>0 KB</td><td>ä¸å¯å˜</td><td>ç®€å•å…¨å±€çŠ¶æ€</td></tr><tr><td><strong>Jotai</strong></td><td>ä½</td><td>ä¼˜ç§€</td><td>ä¼˜ç§€</td><td>~3 KB</td><td>åŸå­ä¸å¯å˜</td><td>ç»†ç²’åº¦æ›´æ–°</td></tr><tr><td><strong>Zustand</strong></td><td>ä¸­</td><td>ä¼˜ç§€</td><td>ä¼˜ç§€</td><td>~1 KB</td><td>ä¸å¯å˜</td><td>è½»é‡ Redux æ›¿ä»£</td></tr><tr><td><strong>MobX</strong></td><td>ä¸­é«˜</td><td>ä¼˜ç§€</td><td>ä¼˜ç§€</td><td>~15 KB</td><td>å“åº”å¼å¯å˜</td><td>å¤æ‚å¯¹è±¡æ¨¡å‹</td></tr><tr><td><strong>Valtio</strong></td><td>ä½</td><td>ä¼˜ç§€</td><td>ä¼˜ç§€</td><td>~4 KB</td><td>å“åº”å¼å¯å˜</td><td>å¿«é€ŸåŸå‹å¼€å‘</td></tr><tr><td><strong>Redux</strong></td><td>é«˜</td><td>ä¸­</td><td>ä¼˜ç§€</td><td>~10 KB</td><td>ä¸å¯å˜</td><td>å¤§å‹å›¢é˜Ÿè§„èŒƒé¡¹ç›®</td></tr></tbody></table><hr><h3 id="ğŸ§­-é€‰å‹å»ºè®®" tabindex="-1">ğŸ§­ <strong>é€‰å‹å»ºè®®</strong> <a class="header-anchor" href="#ğŸ§­-é€‰å‹å»ºè®®" aria-label="Permalink to â€œğŸ§­ é€‰å‹å»ºè®®â€">â€‹</a></h3><ol><li><p><strong>å°å‹åº”ç”¨/ç»„ä»¶çŠ¶æ€</strong>ï¼š</p><ul><li>é¦–é€‰ <code>useState/useReducer</code>ï¼Œéœ€è¦è·¨ç»„ä»¶å…±äº«æ—¶ç”¨ <strong>Context</strong>ã€‚</li></ul></li><li><p><strong>ä¸­å‹åº”ç”¨ï¼ˆå…¨å±€çŠ¶æ€ï¼‰</strong>ï¼š</p><ul><li>è¿½æ±‚ç®€æ´ â†’ <strong>Zustand</strong>ï¼ˆä¸å¯å˜ï¼‰æˆ– <strong>Valtio</strong>ï¼ˆå¯å˜ï¼‰ã€‚</li><li>éœ€ç»†ç²’åº¦æ›´æ–° â†’ <strong>Jotai</strong>ã€‚</li></ul></li><li><p><strong>å¤§å‹å¤æ‚åº”ç”¨</strong>ï¼š</p><ul><li>å¼ºè§„èŒƒå›¢é˜Ÿ â†’ <strong>Redux + RTK</strong>ï¼ˆåˆ©ç”¨ä¸­é—´ä»¶ç”Ÿæ€ï¼‰ã€‚</li><li>å¤æ‚é¢†åŸŸæ¨¡å‹ â†’ <strong>MobX</strong>ï¼ˆè‡ªåŠ¨ä¾èµ–è¿½è¸ªæ›´é«˜æ•ˆï¼‰ã€‚</li></ul></li><li><p><strong>ç‰¹æ®Šéœ€æ±‚</strong>ï¼š</p><ul><li>Next.js é›†æˆ â†’ <strong>Hookstate</strong> æˆ– <strong>Zustand</strong>ã€‚</li><li>çŠ¶æ€æŒä¹…åŒ–/æ’¤é”€ â†’ <strong>Redux</strong> æˆ– <strong>Zustand + ä¸­é—´ä»¶</strong>ã€‚</li></ul></li></ol><blockquote><p>ğŸ’¡ <strong>é¿å‘æç¤º</strong>ï¼š</p><ul><li>é¿å…åœ¨ Context ä¸­å­˜å‚¨é«˜é¢‘å˜æ›´æ•°æ®ï¼ˆå¦‚å®æ—¶åæ ‡ï¼‰ï¼Œä¼šè§¦å‘å…¨å­æ ‘é‡æ¸²æŸ“ã€‚</li><li>MobX/Valtio å¯å˜æ¨¡å‹è™½ä¾¿æ·ï¼Œä½†éœ€è­¦æƒ•<strong>ç›´æ¥ä¿®æ”¹çŠ¶æ€å¯¼è‡´çš„ä¸å¯é¢„æµ‹æ€§</strong>ï¼Œå»ºè®®é…åˆ Immer ä½¿ç”¨ã€‚</li></ul></blockquote><hr><h3 id="ğŸ’-æ€»ç»“" tabindex="-1">ğŸ’ <strong>æ€»ç»“</strong> <a class="header-anchor" href="#ğŸ’-æ€»ç»“" aria-label="Permalink to â€œğŸ’ æ€»ç»“â€">â€‹</a></h3><p>React çŠ¶æ€ç®¡ç†çš„æœ¬è´¨æ˜¯<strong>å¹³è¡¡å¼€å‘æ•ˆç‡ã€æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§</strong>ã€‚2024 å¹´è¶‹åŠ¿æ›´å€¾å‘è½»é‡åŸå­åº“ï¼ˆJotai/Zustandï¼‰å’Œå“åº”å¼å·¥å…·ï¼ˆValtioï¼‰ï¼ŒRedux ä»æ˜¯å¤§å›¢é˜ŸåŸºçŸ³ã€‚é€‰å‹æ—¶éœ€è€ƒé‡ï¼š</p><ol><li><strong>å›¢é˜Ÿç†Ÿæ‚‰åº¦</strong>ï¼šRedux éœ€æŠ•å…¥å­¦ä¹ ï¼ŒZustand/Jotai æ›´æ˜“ä¸Šæ‰‹ã€‚</li><li><strong>çŠ¶æ€ç»“æ„</strong>ï¼šæ‰å¹³æ•°æ®ç”¨åŸå­åº“ï¼ŒåµŒå¥—å¯¹è±¡ç”¨å“åº”å¼ã€‚</li><li><strong>æ¸²æŸ“æ€§èƒ½</strong>ï¼šåŸå­åº“å’Œå“åº”å¼å·¥å…·åœ¨é¢‘ç¹æ›´æ–°åœºæ™¯æ›´å…·ä¼˜åŠ¿ã€‚</li></ol><p>å®é™…é¡¹ç›®ä¸­å¯ç»„åˆä½¿ç”¨ï¼Œå¦‚ <strong>Zustand ç®¡ç†å…¨å±€ + Jotai å¤„ç†å±€éƒ¨ç»†ç²’åº¦çŠ¶æ€</strong>ï¼Œå…¼é¡¾çµæ´»ä¸æ€§èƒ½ã€‚</p>`,40)]))}const E=i(l,[["render",h]]);export{o as __pageData,E as default};
