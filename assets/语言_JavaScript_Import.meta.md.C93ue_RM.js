import{F as e,b as t,m as n,p as r}from"./chunks/plugin-vue_export-helper.CL7LGUog.js";const i=JSON.parse(`{"title":"import.meta çš„å±æ€§","description":"","frontmatter":{},"headers":[],"relativePath":"è¯­è¨€/JavaScript/Import.meta.md","filePath":"è¯­è¨€/JavaScript/Import.meta.md","lastUpdated":1751078101000}`),a={name:`è¯­è¨€/JavaScript/Import.meta.md`};function o(t,i,a,o,s,c){return e(),n(`div`,null,i[0]||=[r(`<h1 id="import-meta-çš„å±æ€§" tabindex="-1">import.meta çš„å±æ€§ <a class="header-anchor" href="#import-meta-çš„å±æ€§" aria-label="Permalink to â€œimport.meta çš„å±æ€§â€">â€‹</a></h1><p><code>import.meta</code> æ˜¯ ES Modules çš„ä¸€ä¸ªå…ƒæ•°æ®å¯¹è±¡ï¼Œç”¨äºæä¾›å½“å‰æ¨¡å—çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œè€Œæ˜¯æ¯ä¸ªæ¨¡å—ä½œç”¨åŸŸå†…ç‹¬ç«‹å­˜åœ¨çš„å¯¹è±¡ã€‚</p><p>åœ¨ Node.js ä¸­ï¼Œ<code>import.meta</code> ä¸»è¦åŒ…å«ä»¥ä¸‹å±æ€§ï¼š</p><h2 id="âœ…-1-import-meta-url" tabindex="-1">âœ… 1. <code>import.meta.url</code> <a class="header-anchor" href="#âœ…-1-import-meta-url" aria-label="Permalink to â€œâœ… 1. import.meta.urlâ€">â€‹</a></h2><ul><li><strong>ç±»å‹</strong>ï¼š<code>string</code></li><li><strong>å«ä¹‰</strong>ï¼šå½“å‰æ¨¡å—çš„å®Œæ•´ <code>file://</code> å½¢å¼çš„ URLã€‚</li><li><strong>ç”¨é€”</strong>ï¼šå¯ç”¨äºè·å–å½“å‰æ–‡ä»¶è·¯å¾„ï¼Œæ›¿ä»£ CommonJS ä¸­çš„ <code>__filename</code>ã€‚</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.url);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¾“å‡º: file:///Users/xxx/project/module.mjs</span></span></code></pre></div><h2 id="âœ…-2-è‡ªå®šä¹‰å±æ€§-é€šè¿‡-bundler-æˆ–-loader-æ’å…¥" tabindex="-1">âœ… 2. è‡ªå®šä¹‰å±æ€§ï¼ˆé€šè¿‡ bundler æˆ– loader æ’å…¥ï¼‰ <a class="header-anchor" href="#âœ…-2-è‡ªå®šä¹‰å±æ€§-é€šè¿‡-bundler-æˆ–-loader-æ’å…¥" aria-label="Permalink to â€œâœ… 2. è‡ªå®šä¹‰å±æ€§ï¼ˆé€šè¿‡ bundler æˆ– loader æ’å…¥ï¼‰â€">â€‹</a></h2><p>æŸäº›æ„å»ºå·¥å…·ï¼ˆå¦‚ <strong>Viteã€Rollupã€Webpack5+</strong>ï¼‰ä¼šæ³¨å…¥é¢å¤–çš„ <code>import.meta</code> å±æ€§ã€‚ä¾‹å¦‚ï¼š</p><h3 id="vite-ç¤ºä¾‹" tabindex="-1">Vite ç¤ºä¾‹ï¼š <a class="header-anchor" href="#vite-ç¤ºä¾‹" aria-label="Permalink to â€œVite ç¤ºä¾‹ï¼šâ€">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.env  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŒ…å«ç¯å¢ƒå˜é‡ï¼Œå¦‚ import.meta.env.MODE</span></span></code></pre></div><h3 id="webpack-ç¤ºä¾‹-éœ€è¦é…ç½®-experiments-outputmodule-true" tabindex="-1">Webpack ç¤ºä¾‹ï¼ˆéœ€è¦é…ç½® <code>experiments.outputModule: true</code>ï¼‰ï¼š <a class="header-anchor" href="#webpack-ç¤ºä¾‹-éœ€è¦é…ç½®-experiments-outputmodule-true" aria-label="Permalink to â€œWebpack ç¤ºä¾‹ï¼ˆéœ€è¦é…ç½® experiments.outputModule: trueï¼‰ï¼šâ€">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.webpack </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true if the module is bundled by Webpack</span></span></code></pre></div><h2 id="âœ…-3-åœ¨æµè§ˆå™¨ä¸­-ä»…æ”¯æŒ-es-module" tabindex="-1">âœ… 3. åœ¨æµè§ˆå™¨ä¸­ï¼ˆä»…æ”¯æŒ ES Moduleï¼‰ <a class="header-anchor" href="#âœ…-3-åœ¨æµè§ˆå™¨ä¸­-ä»…æ”¯æŒ-es-module" aria-label="Permalink to â€œâœ… 3. åœ¨æµè§ˆå™¨ä¸­ï¼ˆä»…æ”¯æŒ ES Moduleï¼‰â€">â€‹</a></h2><p>æµè§ˆå™¨æ”¯æŒæ ‡å‡†çš„ <code>import.meta.url</code>ï¼Œä½†ä¹Ÿå¯ç”¨äºä¼ é€’ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚æŸäº› polyfill æˆ–å·¥å…·ä¹Ÿä¼šæ³¨å…¥é¢å¤–å­—æ®µã€‚</p><hr><h2 id="ğŸš«-import-meta-ä¸æ”¯æŒçš„å†…å®¹-åœ¨æ ‡å‡†ç¯å¢ƒä¸­" tabindex="-1">ğŸš« <code>import.meta</code> ä¸æ”¯æŒçš„å†…å®¹ï¼ˆåœ¨æ ‡å‡†ç¯å¢ƒä¸­ï¼‰ï¼š <a class="header-anchor" href="#ğŸš«-import-meta-ä¸æ”¯æŒçš„å†…å®¹-åœ¨æ ‡å‡†ç¯å¢ƒä¸­" aria-label="Permalink to â€œğŸš« import.meta ä¸æ”¯æŒçš„å†…å®¹ï¼ˆåœ¨æ ‡å‡†ç¯å¢ƒä¸­ï¼‰ï¼šâ€">â€‹</a></h2><ul><li><code>import.meta</code> <strong>ä¸æ˜¯å¯æ‰©å±•å¯¹è±¡</strong>ï¼Œä½ ä¸èƒ½éšæ„æ·»åŠ å±æ€§ï¼ˆåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ã€‚</li><li>ä¸æ”¯æŒåƒ <code>__dirname</code>ã€<code>__filename</code> è¿™æ ·çš„ CommonJS å±æ€§ã€‚</li></ul><h2 id="ğŸŒŸ-è¡¥å……-å¦‚ä½•ä½¿ç”¨-import-meta-url-è·å–-dirname-å’Œ-filename-å¦‚å‰æ‰€ç¤º" tabindex="-1">ğŸŒŸ è¡¥å……ï¼šå¦‚ä½•ä½¿ç”¨ <code>import.meta.url</code> è·å– <code>__dirname</code> å’Œ <code>__filename</code>ï¼ˆå¦‚å‰æ‰€ç¤ºï¼‰ <a class="header-anchor" href="#ğŸŒŸ-è¡¥å……-å¦‚ä½•ä½¿ç”¨-import-meta-url-è·å–-dirname-å’Œ-filename-å¦‚å‰æ‰€ç¤º" aria-label="Permalink to â€œğŸŒŸ è¡¥å……ï¼šå¦‚ä½•ä½¿ç”¨ import.meta.url è·å– __dirname å’Œ __filenameï¼ˆå¦‚å‰æ‰€ç¤ºï¼‰â€">â€‹</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { fileURLToPath } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fileURLToPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.url);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __dirname</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dirname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__filename);</span></span></code></pre></div><h2 id="ğŸ”§-å°æŠ€å·§-åœ¨æ„å»ºå·¥å…·ä¸­è°ƒè¯•-import-meta" tabindex="-1">ğŸ”§ å°æŠ€å·§ï¼šåœ¨æ„å»ºå·¥å…·ä¸­è°ƒè¯• <code>import.meta</code> <a class="header-anchor" href="#ğŸ”§-å°æŠ€å·§-åœ¨æ„å»ºå·¥å…·ä¸­è°ƒè¯•-import-meta" aria-label="Permalink to â€œğŸ”§ å°æŠ€å·§ï¼šåœ¨æ„å»ºå·¥å…·ä¸­è°ƒè¯• import.metaâ€">â€‹</a></h2><p>å¦‚æœä½ ä¸ç¡®å®šæœ‰å“ªäº›å­—æ®µï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>æœ‰æ—¶ä½ ä¼šçœ‹åˆ°ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;file:///xxx/module.mjs&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>åœ¨ Vite é¡¹ç›®ä¸­ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;BASE_URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;MODE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;development&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;DEV&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;PROD&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>éœ€è¦æˆ‘åˆ—å‡ºæŸä¸ªç‰¹å®šå·¥å…·ï¼ˆå¦‚ Vite/Webpackï¼‰ä¸­ <code>import.meta</code> çš„å¯ç”¨å­—æ®µå—ï¼Ÿ</p>`,27)])}var s=t(a,[[`render`,o]]);export{i as __pageData,s as default};